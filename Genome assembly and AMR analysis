#Genome assembly
#Using software spades (http://cab.spbu.ru/software/spades/)
spades.py -t 24 -k 21,33,55,77,99,127 --careful --pe1-1 ./$i/$i"_1.clean.fq.gz" --pe1-2 ./$i/$i"_2.clean.fq.gz" -o ./$i --phred-offset 33

#Serotyping
#Using software SISTR (https://github.com/peterk87/sistr_cmd/)
sistr -i ./name.fasta name.fasta -f csv -o rusults -p CGMLST_PROFILES -n NOVEL_ALLELES
cat *.csv >> ./totalsero.csv

#MLST typing
#Using software MLST (https://github.com/peterk87/sistr_cmd/)
mlst contigs.fa

#AMR analysis
#ARG and plasmid replicon analysis
#Using software ABRicate (https://github.com/tseemann/abricate)
for i in *;do abricate --db resfinder ${i} >./res/${i}-res.tab;done
for i in *;do abricate --db plasmidfinder ${i} >./plasmid/${i}-plasmid.tab;done

#Point mutation analysis
#Using software AMRFinder (https://github.com/ncbi/amr)
for i in *.fasta;do amrfinder -n ${i}  --plus -O Salmonella  --threads 40 -o ./res/${i}-res.tab --name ${i};done
